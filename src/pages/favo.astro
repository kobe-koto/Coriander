---
import Main from "@layouts/main.astro"
---

<Main role="contents">
    <p class="Title">Favorites</p>

    <div class="GradientCon Prototype">
        <div class="Gradient">
            <div class="Preview"></div>
            <div class="Desc">
                <p class="Code">linear-gradient(45deg, #91e9c3, #eaaa8e)</p>
                <p class="Date">2077/07/07</p>
            </div>
        </div>
    </div>
</Main>

<script lang="javascript">
    window.RGP = {};
    if (window.localStorage && window.localStorage.getItem("RGPDatabase")) {
        RGP.DB = JSON.parse(window.localStorage.getItem("RGPDatabase"));
    } else {
        RGP.DB = { main: [] };
    }

    let FavoArray = RGP.DB.main;
    let GradientPrototype = document.querySelector("div.GradientCon.Prototype").cloneNode(true);
    GradientPrototype.classList.remove("Prototype");

    for ( let i=FavoArray.length-1; i>=0; i--) {
        let TmpGradientPrototype = GradientPrototype.cloneNode(true);
        let LinearGradient = `linear-gradient(${FavoArray[i].Obj.Degree}deg, ${FavoArray[i].Obj.ColorArray.toString().replace(/,/gi, "\, ")})`;
        TmpGradientPrototype.querySelector("div.Gradient > div.Preview").style.backgroundImage = LinearGradient;
        TmpGradientPrototype.querySelector("div.Desc > p.Code").innerText = LinearGradient;
        TmpGradientPrototype.querySelector("div.Desc > p.Date").innerText = FavoArray[i].Date;
        document.body.append(TmpGradientPrototype)
    }
    
</script>

<style lang="scss">
    p.Title {
        width: 80%;
        margin: 30px auto;
        font-size: x-large;
    }

    div.GradientCon {
        margin-bottom: 24px;
        &.Prototype {
            display: none;
        }
    }

    div.Gradient {
        width: 80%;
        max-width: 850px;
        margin: 0 auto;
        background-color: #303030;

        border-radius: 12px;
        border-width: 1px;
        border-color: #424242;
        border-style: solid;

        overflow: hidden;

        .Preview {
            //background-image: linear-gradient(45deg, #91e9c3, #eaaa8e);
            height: 175px;
            width: 100%;
        }
        .Desc {
            padding: 16px 18px;
            p.Code {
                word-break: break-all;
            }
            p.Date {
                font-size: smaller;
                opacity: 0.65;
            }
        }
    }
</style>
